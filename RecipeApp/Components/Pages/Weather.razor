@page "/weather"
@inject IRecipeService _iRecipeService
@rendermode InteractiveServer

<PageTitle>Weather</PageTitle>

<h1>Opskrifter</h1>

<p>Hvilke slags opskrifter vil du se?</p>

<button type="button" id="allRecipes" @onclick="showAllRecipes">Alle opskrifter</button>
<button type="button" id="userProduceRecipes" @onclick="showUserProduceRecipes">Opskrifter jeg kan lave</button>

<div hidden=@hideList id="recipeList">
    <ul>
        @foreach (var recipe in listOfRecipes)
        {
            <li><a href="@recipe.URL" data-bs-toggle="tooltip" data-bs-title="test??">@recipe.RecipeName | tilbedringstid: @recipe.CookTime minutter</a></li>
        }
    </ul>
</div>

@code {

    private IEnumerable<Recipe> listOfRecipes;

    bool hideList = true;

    protected override void OnInitialized()
    {
        listOfRecipes = _iRecipeService.GetAllRecipesFromDatabase();
    }

    private void showAllRecipes(){
        hideList = !hideList;
    }

    private void showUserProduceRecipes(){
        // in progress
    }

    private void recipeProduceList(){
        // in progress
    }

}
